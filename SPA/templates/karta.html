<!DOCTYPE html>
<html>
 <head>
     {% load static %}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.css">

    <!-- include leaflet css and javascript -->
    <link rel="stylesheet" crossorigin="" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet-src.js" crossorigin=""></script>
    <link rel="stylesheet" type="text/css" href="{% static 'SPA/style.css' %}">
    <style type="text/css">
        #map {
        height: 800px;

        }
    </style>
 </head>

<body>
<header>
    <nav>
       <ul>
            <li><a class="btn" href="{% url 'home' %}" role="button">home</a></li>
            <li><a class="btn" href="{% url 'contact' %}" role="button">Contact info</a></li>


        </ul>
    </nav>
</header>
<div class="row" style="padding-top:2em; margin-top:0em; padding-bottom:2em; margin-bottom:0em">
<br>
    <br>

<form action="{% url 'taz_solver' %}">
    <div class="row" style="padding-top:0em; margin-top:0em; padding-bottom:2em; margin-bottom:0em">
    <label for="vrp_points">Popis koordinata</label>
    <textarea  id="vrp_points" name="koordinate"></textarea>
    <label>Broj vozila</label>
    <textarea id="broj_vozila" name="vozila"></textarea>
    </div>
    <input type="submit" value="Spremi zapis!"/>

</form>
</div>

    <div id="map"></div>

<div><p class="a">{{status}}</p></div>







<script>
        // Initialize the map
        var map = L.map('map').setView([45.7963, 15.9805], 12);
        L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a>'
        }).addTo(map);

        newMarkerGroup = new L.LayerGroup();
       map.on('click', addMarker);

        function addMarker(e) {
            // Add marker to map at click location; add popup window
            var newMarker = new L.marker(e.latlng).addTo(map);

            vrp_points.value += e.latlng.lat;
            vrp_points.value += ",";
            vrp_points.value += e.latlng.lng;
            vrp_points.value += ";";

            console.log(e.latlng);


        }
</script>

</body>
</html>